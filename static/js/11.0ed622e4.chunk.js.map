{"version":3,"sources":["components/Search/index.tsx","pages/AnalyticsPage/AnalyticsHeader.tsx","../node_modules/@material-ui/icons/esm/ArrowForwardIos.js","pages/AnalyticsTokenDetails/AnalyticsTokenChart.tsx","pages/AnalyticsTokenDetails/AnalyticsTokenDetails.tsx"],"names":["useStyles","makeStyles","palette","searchInput","display","alignItems","padding","background","grey","A700","height","borderRadius","margin","border","outline","fontSize","fontWeight","minWidth","color","text","primary","searchContent","position","width","zIndex","overflowY","Search","classes","history","useHistory","useState","searchVal","setSearchVal","menuOpen","setMenuOpen","menuRef","useRef","wrapperRef","searchedTokens","setSearchedTokens","searchedPairs","setSearchedPairs","tokensShown","setTokensShown","pairsShown","setPairsShown","allTokens","setAllTokens","allPairs","setAllPairs","escapeRegExp","str","replace","filteredTokens","useMemo","tokens","concat","filter","searchedToken","included","map","token","id","GlobalConst","blacklists","TOKEN_BLACKLIST","includes","Object","keys","tokenEntryKey","isAddress","slice","match","RegExp","some","m","filteredPairs","pairs","searchedPair","pair","PAIR_BLACKLIST","pairA","split","toUpperCase","pairB","token0","symbol","token1","field","name","useEffect","a","getAllTokensOnUniswap","getAllPairsOnUniswap","fetchAllData","length","client","query","TOKEN_SEARCH","variables","value","PAIR_SEARCH","data","asSymbol","t","as0","as1","asAddress","foundTokens","asName","console","log","fetchData","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","Box","className","placeholder","ref","onFocus","onChange","evt","SearchIcon","Typography","variant","val","ind","currency0","Token","ChainId","MATIC","getAddress","decimals","currency1","mt","style","cursor","onClick","push","size","marginLeft","currency","marginTop","React","memo","topTab","disabled","selectedTab","secondary","light","link","textDecoration","AnalyticsHeader","type","useTheme","pathname","useLocation","mb","justifyContent","flexWrap","marginY","hint","ArrowForwardIos","shortenAddress","cx","indexOf","createSvgIcon","d","priceChangeWrapper","AnalyticsTokenChart","tokenAddress","useRouteMatch","params","tokenChartData","updateTokenChartData","chartIndexes","chartIndexTexts","chartIndex","setChartIndex","analyticChart","ONE_MONTH_CHART","durationIndex","setDurationIndex","chartData","item","Number","dailyVolumeUSD","totalLiquidityUSD","priceUSD","currentData","oneDayVolumeUSD","currentPercent","volumeChangeUSD","liquidityChangeUSD","priceChangeUSD","getTokenChartData","ALL_CHART","getChartStartTime","newChartData","getLimitedData","CHART_COUNT","fetchTokenChartData","currentPercentColor","getPriceColor","formatCompact","formatNumber","ml","bgcolor","bgColor","textColor","getFormattedPrice","dayjs","format","Skeleton","flexDirection","chartTypes","typeTexts","chartType","setChartType","GlobalData","analytics","CHART_DURATIONS","CHART_DURATION_TEXTS","yAxisValues","getYAXISValuesAnalytics","dates","date","add","unix","categories","getChartDates","breakpoints","panel","down","heading1","lineHeight","heading2","button","filledButton","AnalyticsTokenDetails","isMobile","useMediaQuery","setToken","chainId","useActiveWeb3React","undefined","tokenPairs","updateTokenPairs","useBookmarkTokens","bookmarkTokens","addBookmarkToken","removeBookmarkToken","getEthPrice","newPrice","oneDayPrice","getTokenInfo","tokenInfo","fetchTokenInfo","getTokenPairs2","formattedPairs","getBulkPairData","pairData","fetchTokenPairs","tokenPercentColor","mr","StarChecked","StarUnchecked","my","main","Grid","container","xs","sm","md","toLocaleString","oneWeekVolumeUSD","utils","FEEPERCENT","href","getEtherscanLink","rel"],"mappings":"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","file":"static/js/11.0ed622e4.chunk.js","sourcesContent":["import React, { useEffect, useState, useRef, useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router-dom';\nimport { Box, Typography } from '@material-ui/core';\nimport { ReactComponent as SearchIcon } from 'assets/images/SearchIcon.svg';\nimport { client } from 'apollo/client';\nimport { TOKEN_SEARCH, PAIR_SEARCH } from 'apollo/queries';\nimport { getAllTokensOnUniswap, getAllPairsOnUniswap } from 'utils';\nimport { GlobalConst } from 'constants/index';\nimport { CurrencyLogo, DoubleCurrencyLogo } from 'components';\nimport { ChainId, Token } from '@uniswap/sdk';\nimport { getAddress } from '@ethersproject/address';\n\nconst useStyles = makeStyles(({ palette }) => ({\n  searchInput: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 16px',\n    background: palette.grey.A700,\n    height: 46,\n    borderRadius: 10,\n    margin: '12px 0',\n    '& input': {\n      background: 'transparent',\n      border: 'none',\n      outline: 'none',\n      fontSize: 15,\n      fontWeight: 500,\n      minWidth: 240,\n      color: palette.text.primary,\n    },\n  },\n  searchContent: {\n    position: 'absolute',\n    width: '100%',\n    background: palette.grey.A700,\n    borderRadius: 10,\n    padding: 12,\n    zIndex: 2,\n    height: 300,\n    overflowY: 'auto',\n  },\n}));\n\nconst Search: React.FC = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [searchVal, setSearchVal] = useState('');\n  const [menuOpen, setMenuOpen] = useState(false);\n  const menuRef = useRef<any>(null);\n  const wrapperRef = useRef<any>(null);\n  const [searchedTokens, setSearchedTokens] = useState<any[]>([]);\n  const [searchedPairs, setSearchedPairs] = useState<any[]>([]);\n  const [tokensShown, setTokensShown] = useState(3);\n  const [pairsShown, setPairsShown] = useState(3);\n  const [allTokens, setAllTokens] = useState<any[]>([]);\n  const [allPairs, setAllPairs] = useState<any[]>([]);\n\n  const escapeRegExp = (str: string) => {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n  };\n\n  const filteredTokens = useMemo(() => {\n    const tokens = allTokens.concat(\n      searchedTokens.filter((searchedToken) => {\n        let included = false;\n        allTokens.map((token) => {\n          if (token.id === searchedToken.id) {\n            included = true;\n          }\n          return true;\n        });\n        return !included;\n      }),\n    );\n    const filtered = tokens\n      ? tokens.filter((token) => {\n          if (GlobalConst.blacklists.TOKEN_BLACKLIST.includes(token.id)) {\n            return false;\n          }\n          const regexMatches = Object.keys(token).map((tokenEntryKey) => {\n            const isAddress = searchVal.slice(0, 2) === '0x';\n            if (tokenEntryKey === 'id' && isAddress) {\n              return token[tokenEntryKey].match(\n                new RegExp(escapeRegExp(searchVal), 'i'),\n              );\n            }\n            if (tokenEntryKey === 'symbol' && !isAddress) {\n              return token[tokenEntryKey].match(\n                new RegExp(escapeRegExp(searchVal), 'i'),\n              );\n            }\n            if (tokenEntryKey === 'name' && !isAddress) {\n              return token[tokenEntryKey].match(\n                new RegExp(escapeRegExp(searchVal), 'i'),\n              );\n            }\n            return false;\n          });\n          return regexMatches.some((m) => m);\n        })\n      : [];\n    return filtered;\n  }, [allTokens, searchedTokens, searchVal]);\n\n  const filteredPairs = useMemo(() => {\n    const pairs = allPairs.concat(\n      searchedPairs.filter((searchedPair) => {\n        let included = false;\n        allPairs.map((pair) => {\n          if (pair.id === searchedPair.id) {\n            included = true;\n          }\n          return true;\n        });\n        return !included;\n      }),\n    );\n    const filtered = pairs\n      ? pairs.filter((pair) => {\n          if (GlobalConst.blacklists.PAIR_BLACKLIST.includes(pair.id)) {\n            return false;\n          }\n          if (searchVal && searchVal.includes(' ')) {\n            const pairA = searchVal.split(' ')[0]?.toUpperCase();\n            const pairB = searchVal.split(' ')[1]?.toUpperCase();\n            return (\n              (pair.token0.symbol.includes(pairA) ||\n                pair.token0.symbol.includes(pairB)) &&\n              (pair.token1.symbol.includes(pairA) ||\n                pair.token1.symbol.includes(pairB))\n            );\n          }\n          if (searchVal && searchVal.includes('-')) {\n            const pairA = searchVal.split('-')[0]?.toUpperCase();\n            const pairB = searchVal.split('-')[1]?.toUpperCase();\n            return (\n              (pair.token0.symbol.includes(pairA) ||\n                pair.token0.symbol.includes(pairB)) &&\n              (pair.token1.symbol.includes(pairA) ||\n                pair.token1.symbol.includes(pairB))\n            );\n          }\n          const regexMatches = Object.keys(pair).map((field) => {\n            const isAddress = searchVal.slice(0, 2) === '0x';\n            if (field === 'id' && isAddress) {\n              return pair[field].match(\n                new RegExp(escapeRegExp(searchVal), 'i'),\n              );\n            }\n            if (field === 'token0') {\n              return (\n                pair[field].symbol.match(\n                  new RegExp(escapeRegExp(searchVal), 'i'),\n                ) ||\n                pair[field].name.match(new RegExp(escapeRegExp(searchVal), 'i'))\n              );\n            }\n            if (field === 'token1') {\n              return (\n                pair[field].symbol.match(\n                  new RegExp(escapeRegExp(searchVal), 'i'),\n                ) ||\n                pair[field].name.match(new RegExp(escapeRegExp(searchVal), 'i'))\n              );\n            }\n            return false;\n          });\n          return regexMatches.some((m) => m);\n        })\n      : [];\n    return filtered;\n  }, [allPairs, searchedPairs, searchVal]);\n\n  useEffect(() => {\n    async function fetchAllData() {\n      const tokens = await getAllTokensOnUniswap();\n      const pairs = await getAllPairsOnUniswap();\n      if (tokens) {\n        setAllTokens(tokens);\n      }\n      if (pairs) {\n        setAllPairs(pairs);\n      }\n    }\n    fetchAllData();\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        if (searchVal.length > 0) {\n          const tokens = await client.query({\n            query: TOKEN_SEARCH,\n            variables: {\n              value: searchVal ? searchVal.toUpperCase() : '',\n              id: searchVal,\n            },\n          });\n\n          const pairs = await client.query({\n            query: PAIR_SEARCH,\n            variables: {\n              tokens: tokens.data.asSymbol?.map((t: any) => t.id),\n              id: searchVal,\n            },\n          });\n\n          setSearchedPairs(\n            pairs.data.as0.concat(pairs.data.as1).concat(pairs.data.asAddress),\n          );\n          const foundTokens = tokens.data.asSymbol\n            .concat(tokens.data.asAddress)\n            .concat(tokens.data.asName);\n          setSearchedTokens(foundTokens);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n    fetchData();\n  }, [searchVal]);\n\n  const handleClick = (e: any) => {\n    if (\n      !(menuRef.current && menuRef.current.contains(e.target)) &&\n      !(wrapperRef.current && wrapperRef.current.contains(e.target))\n    ) {\n      setPairsShown(3);\n      setTokensShown(3);\n      setMenuOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClick);\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  });\n\n  return (\n    <Box position='relative'>\n      <Box className={classes.searchInput}>\n        <input\n          placeholder='Search for tokens, pairs, etc…'\n          value={searchVal}\n          ref={menuRef}\n          onFocus={() => setMenuOpen(true)}\n          onChange={(evt) => setSearchVal(evt.target.value)}\n        />\n        <Box display='flex'>\n          <SearchIcon />\n        </Box>\n      </Box>\n      {menuOpen && (\n        <div ref={wrapperRef} className={classes.searchContent}>\n          <Typography variant='body1'>Pairs</Typography>\n          {filteredPairs.slice(0, pairsShown).map((val, ind) => {\n            const currency0 = new Token(\n              ChainId.MATIC,\n              getAddress(val.token0.id),\n              val.token0.decimals,\n            );\n            const currency1 = new Token(\n              ChainId.MATIC,\n              getAddress(val.token1.id),\n              val.token1.decimals,\n            );\n            return (\n              <Box\n                mt={1}\n                key={ind}\n                display='flex'\n                alignItems='center'\n                style={{ cursor: 'pointer' }}\n                onClick={() => history.push(`/analytics/pair/${val.id}`)}\n              >\n                <DoubleCurrencyLogo\n                  currency0={currency0}\n                  currency1={currency1}\n                  size={28}\n                />\n                <Typography variant='body2' style={{ marginLeft: 8 }}>\n                  {val.token0.symbol} - {val.token1.symbol} Pair\n                </Typography>\n              </Box>\n            );\n          })}\n          <Typography\n            variant='body2'\n            style={{ cursor: 'pointer', margin: '8px 0' }}\n            onClick={() => setPairsShown(pairsShown + 5)}\n          >\n            Show More\n          </Typography>\n          <Typography variant='body1'>Tokens</Typography>\n          {filteredTokens.slice(0, tokensShown).map((val, ind) => {\n            const currency = new Token(\n              ChainId.MATIC,\n              getAddress(val.id),\n              val.decimals,\n            );\n            return (\n              <Box\n                mt={1}\n                key={ind}\n                display='flex'\n                alignItems='center'\n                style={{ cursor: 'pointer' }}\n                onClick={() => history.push(`/analytics/token/${val.id}`)}\n              >\n                <CurrencyLogo currency={currency} size='28px' />\n                <Typography variant='body2' style={{ marginLeft: 8 }}>\n                  {val.name} {val.symbol}\n                </Typography>\n              </Box>\n            );\n          })}\n          <Typography\n            variant='body2'\n            style={{ cursor: 'pointer', marginTop: 8 }}\n            onClick={() => setTokensShown(tokensShown + 5)}\n          >\n            Show More\n          </Typography>\n        </div>\n      )}\n    </Box>\n  );\n};\n\nexport default React.memo(Search);\n","import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { Box, Typography } from '@material-ui/core';\nimport { ArrowForwardIos } from '@material-ui/icons';\nimport cx from 'classnames';\nimport Search from 'components/Search';\nimport { shortenAddress } from 'utils';\n\nconst useStyles = makeStyles(({ palette }) => ({\n  topTab: {\n    height: 46,\n    padding: '0 24px',\n    borderRadius: 10,\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    '& p': {\n      color: palette.text.disabled,\n    },\n  },\n  selectedTab: {\n    background: palette.secondary.light,\n    '& p': {\n      color: palette.text.primary,\n    },\n  },\n  link: {\n    cursor: 'pointer',\n    color: palette.text.secondary,\n    '&:hover': {\n      textDecoration: 'underline',\n    },\n  },\n}));\n\ninterface AnalyticHeaderProps {\n  data?: any;\n  type?: string;\n}\n\nconst AnalyticsHeader: React.FC<AnalyticHeaderProps> = ({ data, type }) => {\n  const classes = useStyles();\n  const { palette } = useTheme();\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  return (\n    <Box width='100%' mb={3}>\n      <Box mb={4}>\n        <Typography variant='h4'>Quickswap Analytics</Typography>\n      </Box>\n      <Box\n        mb={4}\n        position='relative'\n        display='flex'\n        justifyContent='space-between'\n        flexWrap='wrap'\n      >\n        <Box marginY={1.5} display='flex' alignItems='center'>\n          {type && data && (\n            <Box display='flex' alignItems='center' color={palette.text.hint}>\n              <Typography\n                variant='caption'\n                className={classes.link}\n                onClick={() => {\n                  history.push('/analytics');\n                }}\n              >\n                Analytics\n              </Typography>\n              <ArrowForwardIos style={{ width: 16 }} />\n              <Typography\n                variant='caption'\n                className={classes.link}\n                onClick={() => {\n                  history.push(`/analytics/${type}s`);\n                }}\n              >\n                {type === 'token' ? 'Tokens' : 'Pairs'}\n              </Typography>\n              <ArrowForwardIos style={{ width: 16 }} />\n              <Typography variant='caption'>\n                <span style={{ color: '#b6b9cc' }}>\n                  {type === 'token'\n                    ? data.symbol\n                    : `${data.token0.symbol}/${data.token1.symbol}`}\n                </span>\n                ({shortenAddress(data.id)})\n              </Typography>\n            </Box>\n          )}\n          {!type && (\n            <>\n              <Box\n                className={cx(\n                  classes.topTab,\n                  pathname.indexOf('pair') === -1 &&\n                    pathname.indexOf('token') === -1 &&\n                    classes.selectedTab,\n                )}\n                onClick={() => history.push(`/analytics`)}\n              >\n                <Typography variant='body1'>Overview</Typography>\n              </Box>\n              <Box\n                className={cx(\n                  classes.topTab,\n                  pathname.indexOf('token') > -1 && classes.selectedTab,\n                )}\n                onClick={() => history.push(`/analytics/tokens`)}\n              >\n                <Typography variant='body1'>Tokens</Typography>\n              </Box>\n              <Box\n                className={cx(\n                  classes.topTab,\n                  pathname.indexOf('pair') > -1 && classes.selectedTab,\n                )}\n                onClick={() => history.push(`/analytics/pairs`)}\n              >\n                <Typography variant='body1'>Pairs</Typography>\n              </Box>\n            </>\n          )}\n        </Box>\n\n        <Search />\n      </Box>\n    </Box>\n  );\n};\n\nexport default AnalyticsHeader;\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"\n}), 'ArrowForwardIos');","import React, { useState, useEffect, useMemo } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { Box, Typography } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { Skeleton } from '@material-ui/lab';\nimport dayjs from 'dayjs';\nimport {\n  formatCompact,\n  getFormattedPrice,\n  getPriceColor,\n  formatNumber,\n  getChartDates,\n  getChartStartTime,\n  getLimitedData,\n  getYAXISValuesAnalytics,\n} from 'utils';\nimport { AreaChart, ChartType } from 'components';\nimport { getTokenChartData } from 'utils';\nimport { GlobalConst, GlobalData } from 'constants/index';\n\nconst useStyles = makeStyles(() => ({\n  priceChangeWrapper: {\n    height: 25,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 16,\n    padding: '0 8px',\n  },\n}));\n\nconst CHART_VOLUME = 0;\nconst CHART_LIQUIDITY = 1;\nconst CHART_PRICE = 2;\n\nconst AnalyticsTokenChart: React.FC<{ token: any }> = ({ token }) => {\n  const classes = useStyles();\n  const { palette } = useTheme();\n  const match = useRouteMatch<{ id: string }>();\n  const tokenAddress = match.params.id;\n  const [tokenChartData, updateTokenChartData] = useState<any>(null);\n  const chartIndexes = [CHART_VOLUME, CHART_LIQUIDITY, CHART_PRICE];\n  const chartIndexTexts = ['Volume', 'Liquidity', 'Price'];\n  const [chartIndex, setChartIndex] = useState(CHART_VOLUME);\n  const [durationIndex, setDurationIndex] = useState(\n    GlobalConst.analyticChart.ONE_MONTH_CHART,\n  );\n\n  const chartData = useMemo(() => {\n    if (!tokenChartData) return;\n    return tokenChartData.map((item: any) => {\n      switch (chartIndex) {\n        case CHART_VOLUME:\n          return Number(item.dailyVolumeUSD);\n        case CHART_LIQUIDITY:\n          return Number(item.totalLiquidityUSD);\n        case CHART_PRICE:\n          return Number(item.priceUSD);\n        default:\n          return;\n      }\n    });\n  }, [tokenChartData, chartIndex]);\n\n  const currentData = useMemo(() => {\n    if (!token) return;\n    switch (chartIndex) {\n      case CHART_VOLUME:\n        return token.oneDayVolumeUSD;\n      case CHART_LIQUIDITY:\n        return token.totalLiquidityUSD;\n      case CHART_PRICE:\n        return token.priceUSD;\n      default:\n        return;\n    }\n  }, [token, chartIndex]);\n\n  const currentPercent = useMemo(() => {\n    if (!token) return;\n    switch (chartIndex) {\n      case CHART_VOLUME:\n        return token.volumeChangeUSD;\n      case CHART_LIQUIDITY:\n        return token.liquidityChangeUSD;\n      case CHART_PRICE:\n        return token.priceChangeUSD;\n      default:\n        return;\n    }\n  }, [token, chartIndex]);\n\n  useEffect(() => {\n    async function fetchTokenChartData() {\n      updateTokenChartData(null);\n      const chartData = await getTokenChartData(\n        tokenAddress,\n        durationIndex === GlobalConst.analyticChart.ALL_CHART\n          ? 0\n          : getChartStartTime(durationIndex),\n      );\n      if (chartData) {\n        const newChartData = getLimitedData(\n          chartData,\n          GlobalConst.analyticChart.CHART_COUNT,\n        );\n        updateTokenChartData(newChartData);\n      }\n    }\n    fetchTokenChartData();\n  }, [updateTokenChartData, tokenAddress, durationIndex]);\n\n  const currentPercentColor = getPriceColor(Number(currentPercent), palette);\n\n  return (\n    <>\n      <Box display='flex' flexWrap='wrap' justifyContent='space-between'>\n        <Box mt={1.5}>\n          <Typography variant='caption'>\n            {chartIndexTexts[chartIndex]}\n          </Typography>\n          <Box mt={1}>\n            {currentData && currentPercent ? (\n              <>\n                <Box display='flex' alignItems='center'>\n                  <Typography\n                    variant='h4'\n                    style={{ color: palette.text.primary }}\n                  >\n                    $\n                    {currentData > 100000\n                      ? formatCompact(currentData)\n                      : formatNumber(currentData)}\n                  </Typography>\n                  <Box\n                    className={classes.priceChangeWrapper}\n                    ml={1}\n                    bgcolor={currentPercentColor.bgColor}\n                    color={currentPercentColor.textColor}\n                  >\n                    <Typography variant='body2'>\n                      {getFormattedPrice(Number(currentPercent))}%\n                    </Typography>\n                  </Box>\n                </Box>\n                <Box>\n                  <Typography variant='caption'>\n                    {dayjs().format('MMM DD, YYYY')}\n                  </Typography>\n                </Box>\n              </>\n            ) : (\n              <Skeleton variant='rect' width='120px' height='30px' />\n            )}\n          </Box>\n        </Box>\n        <Box display='flex' flexDirection='column' alignItems='flex-end'>\n          <Box mt={1.5}>\n            <ChartType\n              chartTypes={chartIndexes}\n              typeTexts={chartIndexTexts}\n              chartType={chartIndex}\n              setChartType={setChartIndex}\n            />\n          </Box>\n          <Box mt={1.5}>\n            <ChartType\n              chartTypes={GlobalData.analytics.CHART_DURATIONS}\n              typeTexts={GlobalData.analytics.CHART_DURATION_TEXTS}\n              chartType={durationIndex}\n              setChartType={setDurationIndex}\n            />\n          </Box>\n        </Box>\n      </Box>\n      <Box mt={2} width={1}>\n        {tokenChartData ? (\n          <AreaChart\n            data={chartData}\n            yAxisValues={getYAXISValuesAnalytics(chartData)}\n            dates={tokenChartData.map((value: any) =>\n              dayjs(value.date * 1000)\n                .add(1, 'day')\n                .unix(),\n            )}\n            width='100%'\n            height={240}\n            categories={getChartDates(tokenChartData, durationIndex)}\n          />\n        ) : (\n          <Skeleton variant='rect' width='100%' height={217} />\n        )}\n      </Box>\n    </>\n  );\n};\n\nexport default AnalyticsTokenChart;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { Box, Typography, Grid, useMediaQuery } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { Skeleton } from '@material-ui/lab';\nimport { ChainId, Token } from '@uniswap/sdk';\nimport cx from 'classnames';\nimport {\n  shortenAddress,\n  getEtherscanLink,\n  getFormattedPrice,\n  getPriceColor,\n  formatNumber,\n} from 'utils';\nimport { useActiveWeb3React } from 'hooks';\nimport { CurrencyLogo, PairTable } from 'components';\nimport { useBookmarkTokens } from 'state/application/hooks';\nimport {\n  getTokenInfo,\n  getEthPrice,\n  getTokenPairs2,\n  getBulkPairData,\n} from 'utils';\nimport { ReactComponent as StarChecked } from 'assets/images/StarChecked.svg';\nimport { ReactComponent as StarUnchecked } from 'assets/images/StarUnchecked.svg';\nimport { getAddress } from '@ethersproject/address';\nimport { GlobalConst } from 'constants/index';\nimport AnalyticsHeader from 'pages/AnalyticsPage/AnalyticsHeader';\nimport AnalyticsTokenChart from './AnalyticsTokenChart';\n\nconst useStyles = makeStyles(({ palette, breakpoints }) => ({\n  panel: {\n    background: palette.grey.A700,\n    borderRadius: 20,\n    padding: 24,\n    [breakpoints.down('xs')]: {\n      padding: 12,\n    },\n  },\n  heading1: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: palette.text.primary,\n    lineHeight: 1,\n    [breakpoints.down('xs')]: {\n      fontSize: 22,\n      fontWeight: 600,\n    },\n  },\n  heading2: {\n    fontSize: 20,\n    lineHeight: 1.2,\n    fontWeight: 600,\n    color: palette.text.hint,\n    marginLeft: 6,\n    [breakpoints.down('xs')]: {\n      fontSize: 18,\n    },\n  },\n  priceChangeWrapper: {\n    height: 25,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 16,\n    padding: '0 8px',\n  },\n  button: {\n    display: 'flex',\n    alignItems: 'center',\n    height: 40,\n    padding: '0 28px',\n    borderRadius: 10,\n    color: palette.text.primary,\n    cursor: 'pointer',\n  },\n  filledButton: {\n    background: 'linear-gradient(279deg, rgb(0, 76, 230), rgb(61, 113, 255))',\n  },\n}));\n\nconst AnalyticsTokenDetails: React.FC = () => {\n  const classes = useStyles();\n  const { palette, breakpoints } = useTheme();\n  const isMobile = useMediaQuery(breakpoints.down('xs'));\n  const history = useHistory();\n  const match = useRouteMatch<{ id: string }>();\n  const tokenAddress = match.params.id;\n  const [token, setToken] = useState<any>(null);\n  const { chainId } = useActiveWeb3React();\n  const currency = token\n    ? new Token(ChainId.MATIC, getAddress(token.id), token.decimals)\n    : undefined;\n  const [tokenPairs, updateTokenPairs] = useState<any>(null);\n  const {\n    bookmarkTokens,\n    addBookmarkToken,\n    removeBookmarkToken,\n  } = useBookmarkTokens();\n\n  useEffect(() => {\n    async function fetchTokenInfo() {\n      const [newPrice, oneDayPrice] = await getEthPrice();\n      const tokenInfo = await getTokenInfo(newPrice, oneDayPrice, tokenAddress);\n      if (tokenInfo) {\n        setToken(tokenInfo[0]);\n      }\n    }\n    fetchTokenInfo();\n  }, [tokenAddress]);\n\n  useEffect(() => {\n    async function fetchTokenPairs() {\n      const [newPrice] = await getEthPrice();\n      const tokenPairs = await getTokenPairs2(tokenAddress);\n      const formattedPairs = tokenPairs\n        ? tokenPairs.map((pair: any) => {\n            return pair.id;\n          })\n        : [];\n      const pairData = await getBulkPairData(formattedPairs, newPrice);\n      if (pairData) {\n        updateTokenPairs(pairData);\n      }\n    }\n    fetchTokenPairs();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [updateTokenPairs, tokenAddress]);\n\n  const tokenPercentColor = getPriceColor(\n    token ? Number(token.priceChangeUSD) : 0,\n    palette,\n  );\n\n  return (\n    <>\n      <AnalyticsHeader type='token' data={token} />\n      {token ? (\n        <>\n          <Box\n            width={1}\n            display='flex'\n            flexWrap='wrap'\n            justifyContent='space-between'\n          >\n            <Box display='flex'>\n              <CurrencyLogo currency={currency} size='32px' />\n              <Box ml={1.5}>\n                <Box display='flex' alignItems='center'>\n                  <Box display='flex' alignItems='flex-end' mr={0.5}>\n                    <Typography className={classes.heading1}>\n                      {token.name}{' '}\n                    </Typography>\n                    <Typography className={classes.heading2}>\n                      ({token.symbol})\n                    </Typography>\n                  </Box>\n                  {bookmarkTokens.includes(token.id) ? (\n                    <StarChecked\n                      onClick={() => removeBookmarkToken(token.id)}\n                    />\n                  ) : (\n                    <StarUnchecked onClick={() => addBookmarkToken(token.id)} />\n                  )}\n                </Box>\n                <Box mt={1.25} display='flex' alignItems='center'>\n                  <Typography\n                    variant='h5'\n                    style={{ color: palette.text.primary }}\n                  >\n                    ${formatNumber(token.priceUSD)}\n                  </Typography>\n                  <Box\n                    className={classes.priceChangeWrapper}\n                    ml={2}\n                    bgcolor={tokenPercentColor.bgColor}\n                    color={tokenPercentColor.textColor}\n                  >\n                    <Typography variant='body2'>\n                      {getFormattedPrice(Number(token.priceChangeUSD))}%\n                    </Typography>\n                  </Box>\n                </Box>\n              </Box>\n            </Box>\n            <Box my={2} display='flex'>\n              <Box\n                className={classes.button}\n                mr={1.5}\n                border={`1px solid ${palette.primary.main}`}\n                onClick={() => {\n                  history.push(`/pools?currency0=${token.id}&currency1=ETH`);\n                }}\n              >\n                <Typography variant='body2'>Add Liquidity</Typography>\n              </Box>\n              <Box\n                className={cx(classes.button, classes.filledButton)}\n                onClick={() => {\n                  history.push(`/swap?currency0=${token.id}&currency1=ETH`);\n                }}\n              >\n                <Typography variant='body2'>Swap</Typography>\n              </Box>\n            </Box>\n          </Box>\n          <Box width={1} className={classes.panel} mt={4}>\n            <Grid container>\n              <Grid item xs={12} sm={12} md={6}>\n                <AnalyticsTokenChart token={token} />\n              </Grid>\n              <Grid item xs={12} sm={12} md={6}>\n                <Box\n                  my={2}\n                  height={1}\n                  display='flex'\n                  flexDirection='column'\n                  alignItems='center'\n                  justifyContent='center'\n                >\n                  <Box\n                    width={isMobile ? 1 : 0.8}\n                    display='flex'\n                    justifyContent='space-between'\n                  >\n                    <Box width={180}>\n                      <Typography\n                        variant='caption'\n                        style={{ color: palette.text.disabled }}\n                      >\n                        TOTAL LIQUIDITY\n                      </Typography>\n                      <Typography variant={isMobile ? 'body1' : 'h5'}>\n                        ${token.totalLiquidityUSD.toLocaleString()}\n                      </Typography>\n                    </Box>\n                    <Box width={140}>\n                      <Typography\n                        variant='caption'\n                        style={{ color: palette.text.disabled }}\n                      >\n                        7d Trading Vol\n                      </Typography>\n                      <Typography variant={isMobile ? 'body1' : 'h5'}>\n                        ${token.oneWeekVolumeUSD.toLocaleString()}\n                      </Typography>\n                    </Box>\n                  </Box>\n                  <Box\n                    width={isMobile ? 1 : 0.8}\n                    mt={4}\n                    display='flex'\n                    justifyContent='space-between'\n                  >\n                    <Box width={180}>\n                      <Typography\n                        variant='caption'\n                        style={{ color: palette.text.disabled }}\n                      >\n                        24h Trading Vol\n                      </Typography>\n                      <Typography variant={isMobile ? 'body1' : 'h5'}>\n                        ${token.oneDayVolumeUSD.toLocaleString()}\n                      </Typography>\n                    </Box>\n                    <Box width={140}>\n                      <Typography\n                        variant='caption'\n                        style={{ color: palette.text.disabled }}\n                      >\n                        24h FEES\n                      </Typography>\n                      <Typography variant={isMobile ? 'body1' : 'h5'}>\n                        $\n                        {(\n                          token.oneDayVolumeUSD * GlobalConst.utils.FEEPERCENT\n                        ).toLocaleString()}\n                      </Typography>\n                    </Box>\n                  </Box>\n                  <Box\n                    width={isMobile ? 1 : 0.8}\n                    mt={4}\n                    display='flex'\n                    justifyContent='space-between'\n                  >\n                    <Box width={180}>\n                      <Typography\n                        variant='caption'\n                        style={{ color: palette.text.disabled }}\n                      >\n                        Contract Address\n                      </Typography>\n                      <Typography\n                        variant='h5'\n                        style={{ color: palette.primary.main }}\n                      >\n                        {chainId ? (\n                          <a\n                            href={getEtherscanLink(\n                              chainId,\n                              token.id,\n                              'address',\n                            )}\n                            target='_blank'\n                            rel='noopener noreferrer'\n                            style={{\n                              color: palette.primary.main,\n                              textDecoration: 'none',\n                            }}\n                          >\n                            {shortenAddress(token.id)}\n                          </a>\n                        ) : (\n                          shortenAddress(token.id)\n                        )}\n                      </Typography>\n                    </Box>\n                  </Box>\n                </Box>\n              </Grid>\n            </Grid>\n          </Box>\n          <Box width={1} mt={5}>\n            <Typography variant='body1'>{token.symbol} Pools</Typography>\n          </Box>\n          <Box width={1} className={classes.panel} mt={4}>\n            {tokenPairs ? (\n              <PairTable data={tokenPairs} />\n            ) : (\n              <Skeleton variant='rect' width='100%' height={150} />\n            )}\n          </Box>\n        </>\n      ) : (\n        <Skeleton width='100%' height={100} />\n      )}\n    </>\n  );\n};\n\nexport default AnalyticsTokenDetails;\n"],"sourceRoot":""}